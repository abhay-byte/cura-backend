# CURA Project - Database Schema Documentation

This document outlines the database schema for all models used in the CURA project.

---

## 1. `users` App

This app manages user authentication and core user data.

### Model: `CustomUser`

Inherits from Django's `AbstractUser` and stores user account information.

| Field Name   | Data Type     | Description                                      |
|--------------|----------------|--------------------------------------------------|
| id           | AutoField       | Primary Key.                                    |
| username     | CharField       | The user's unique username.                     |
| email        | EmailField      | The user's unique email address. Used for login.|
| password     | CharField       | Hashed password for the user.                   |
| first_name   | CharField       | User's first name (optional).                   |
| last_name    | CharField       | User's last name (optional).                    |
| is_staff     | BooleanField    | Designates if the user can access the admin site.|
| is_active    | BooleanField    | Designates if the user account is active.       |
| date_joined  | DateTimeField   | The date and time the user account was created. |

---

## 2. `reminder_agent` App

This app manages medicines and medication reminders.

### Model: `Medicine`

Stores information about a specific medicine belonging to a user.

| Field Name       | Data Type          | Description                                                  |
|------------------|--------------------|--------------------------------------------------------------|
| id               | AutoField          | Primary Key.                                                 |
| user             | ForeignKey (User)  | A many-to-one relationship to the `CustomUser` model.       |
| name             | CharField          | The name of the medicine (e.g., "Paracetamol").              |
| dosage           | CharField          | The dosage strength (e.g., "500mg").                         |
| inventory        | PositiveIntegerField | The current quantity in stock (e.g., 50 pills).             |
| refill_threshold | PositiveIntegerField | Level at which to trigger a refill reminder.               |
| created_at       | DateTimeField      | The date and time the medicine was added.                    |

### Model: `Reminder`

Stores the schedule for taking a specific medicine.

| Field Name     | Data Type           | Description                                                  |
|----------------|---------------------|--------------------------------------------------------------|
| id             | AutoField           | Primary Key.                                                 |
| medicine       | ForeignKey (Medicine)| A many-to-one relationship to the `Medicine` model.         |
| reminder_time  | TimeField           | The specific time to take the medicine (e.g., "09:00").      |
| quantity       | PositiveIntegerField| Number of units to take at the scheduled time.               |
| instruction    | CharField (Choices) | Instructions (e.g., "After Food", "Before Food").            |
| is_active      | BooleanField        | Whether the reminder is currently active.                    |
| last_notified  | DateTimeField       | Last time a notification was sent (optional).                |

---

## 3. `diet_agent` App

This app manages user health profiles and personalized diet plans.

### Model: `UserProfile`

Stores detailed health and lifestyle information for a user.

| Field Name          | Data Type            | Description                                                 |
|---------------------|----------------------|-------------------------------------------------------------|
| id                  | AutoField            | Primary Key.                                                |
| user                | OneToOneField (User) | A one-to-one relationship to the `CustomUser` model.        |
| age                 | PositiveIntegerField | The user's age in years.                                    |
| weight_kg           | FloatField           | The user's weight in kilograms.                             |
| height_cm           | FloatField           | The user's height in centimeters.                           |
| activity_level      | CharField            | The user's general activity level (e.g., "Sedentary").      |
| dietary_preferences | CharField            | The user's dietary choices (e.g., "Vegan").                 |
| allergies           | TextField            | Known allergies (e.g., "Peanuts, Shellfish").               |
| health_issues       | TextField            | Relevant health conditions (e.g., "Diabetes").              |

### Model: `DietPlan`

Stores the diet plans generated by the agent for a user.

| Field Name   | Data Type         | Description                                                  |
|--------------|-------------------|--------------------------------------------------------------|
| id           | AutoField         | Primary Key.                                                 |
| user         | ForeignKey (User) | A many-to-one relationship to the `CustomUser` model.        |
| plan_details | JSONField         | A JSON object containing the structured diet plan.           |
| created_at   | DateTimeField     | The date and time the diet plan was generated.               |
| is_active    | BooleanField      | Designates if this is the user's current active diet plan.   |

---
